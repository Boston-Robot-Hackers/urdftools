robot: turtlebot3_burger

# Hierarchy - TF tree structure
hierarchy:
  base_footprint:
    - base_link:
        - wheel_left_link
        - wheel_right_link
        - caster_back_link
        - imu_link
        - base_scan

# Robot dimensions (meters, kg)
params:
  # Wheel dimensions
  wheel_base: 0.160      # 0.08 * 2
  wheel_diameter: 0.066  # radius 0.033 * 2
  wheel_width: 0.018
  wheel_x_offset: 0.0
  wheel_z_offset: 0.023
  floor_clearance: 0.010

  # Base dimensions
  base_x_offset: -0.032
  base_collision_size: [0.140, 0.140, 0.143]
  base_collision_z: 0.070

  # Caster
  caster_x: -0.081
  caster_z: -0.004
  caster_size: [0.030, 0.009, 0.020]
  caster_y_offset: 0.001

  # Sensors
  imu_z: 0.068
  lidar_z: 0.172
  lidar_collision_offset: 0.015
  lidar_collision_z: -0.0065
  lidar_radius: 0.055
  lidar_height: 0.0315

  # Masses
  base_mass: 0.8257
  wheel_mass: 0.0285
  caster_mass: 0.005
  lidar_mass: 0.114

# Templates
templates:
  wheel:
    mesh: {filename: "package://turtlebot3_description/meshes/wheels/left_tire.stl", scale: [0.001, 0.001, 0.001]}
    material: dark
    joint_type: continuous
    axis: z  # Z-axis in rotated frame (after rot_x: -90deg)
    mass: {wheel_mass}
    collision:
      cylinder: [{wheel_diameter/2}, {wheel_width}]

# Links
links:
  # Ground projection (root frame)
  base_footprint:
    # Virtual link, no geometry

  # Main body
  base_link:
    origin: [0, 0, {floor_clearance}]
    mesh: {filename: "package://turtlebot3_description/meshes/bases/burger_base.stl", scale: [0.001, 0.001, 0.001]}
    material: gray
    mass: {base_mass}
    collision:
      origin: [{base_x_offset}, 0, {base_collision_z}]
      box: {base_collision_size}
    inertial:
      origin: [0, 0, 0]
      inertia: {ixx: 2.2124416e-03, ixy: -1.2294101e-05, ixz: 3.4938785e-05,
                iyy: 2.1193702e-03, iyz: -5.0120904e-06, izz: 2.0064271e-03}

  # Drive wheels (mirrored)
  wheels:
    template: wheel
    mirror_y: {xyz: [{wheel_x_offset}, {wheel_base/2}, {wheel_z_offset}], rot_x: -90deg}

  # Rear caster (skid plate)
  caster_back_link:
    origin: {xyz: [{caster_x}, 0, {caster_z}], rot_x: -90deg}
    # No visual geometry
    mass: {caster_mass}
    collision:
      origin: [0, {caster_y_offset}, 0]
      box: {caster_size}
    inertial:
      origin: [0, 0, 0]
      inertia: {ixx: 0.001, ixy: 0.0, ixz: 0.0, iyy: 0.001, iyz: 0.0, izz: 0.001}

  # IMU sensor
  imu_link:
    origin: [{base_x_offset}, 0, {imu_z}]
    # Virtual link, no geometry

  # LiDAR sensor
  base_scan:
    origin: [{base_x_offset}, 0, {lidar_z}]
    mesh: {filename: "package://turtlebot3_description/meshes/sensors/lds.stl", scale: [0.001, 0.001, 0.001]}
    material: dark
    mass: {lidar_mass}
    collision:
      origin: [{lidar_collision_offset}, 0, {lidar_collision_z}]
      cylinder: [{lidar_radius}, {lidar_height}]
    inertial:
      origin: [0, 0, 0]
      inertia: {ixx: 0.001, ixy: 0.0, ixz: 0.0, iyy: 0.001, iyz: 0.0, izz: 0.001}

# ==============================================================================
# NOTES ON TURTLEBOT3 BURGER
# ==============================================================================
#
# TurtleBot3 Burger - smallest and most affordable model in the TB3 family.
#
# ROBOT STRUCTURE:
# - Differential drive mobile robot
# - Two drive wheels (continuous joints)
# - Rear caster (skid plate for balance)
# - 360° LDS LiDAR sensor
# - 9-axis IMU sensor
# - Compact circular design
#
# KEY SPECIFICATIONS:
# - Wheelbase: 160mm (distance between wheels)
# - Wheel diameter: 66mm
# - Base size: 140mm x 140mm x 143mm
# - Mass: ~0.8kg base + 0.1kg sensors
#
# COMPARISON TO ORIGINAL URDF:
# Original: 199 lines (with material definitions, verbose XML)
# DSL:      ~95 lines
# Reduction: 52%
#
# COORDINATE FRAMES (ROS REP 105 compliant):
# - base_footprint: ground projection
# - base_link: robot center at floor_clearance height
# - wheel_left_link, wheel_right_link: continuous joints
# - imu_link: IMU sensor frame
# - base_scan: LiDAR sensor frame (360° LDS)
#
# HIERARCHY (TF tree):
# base_footprint (ground)
# └── base_link (main body at 10mm clearance)
#     ├── wheel_left_link (continuous)
#     ├── wheel_right_link (continuous)
#     ├── caster_back_link (rear skid plate)
#     ├── imu_link (9-axis IMU)
#     └── base_scan (360° LiDAR)
#
# ==============================================================================
